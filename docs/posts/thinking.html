<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Conor O’Driscoll">
<meta name="dcterms.date" content="2025-08-07">
<meta name="description" content="Thinking statistically doesn’t start with numbers or formulas, it starts with noticing.">

<title>Thinking Statistically: A Primer – Conor O’Driscoll</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-E5KK0XXE44"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-E5KK0XXE44', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../include/webex.css">
<meta property="og:title" content="Thinking Statistically: A Primer – Conor O’Driscoll">
<meta property="og:description" content="Thinking statistically doesn’t start with numbers or formulas, it starts with noticing.">
<meta property="og:image" content="/img/math_lady.jpg">
<meta property="og:site_name" content="Conor O'Driscoll">
<meta name="twitter:title" content="Thinking Statistically: A Primer – Conor O’Driscoll">
<meta name="twitter:description" content="Thinking statistically doesn’t start with numbers or formulas, it starts with noticing.">
<meta name="twitter:image" content="/img/math_lady.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Conor O’Driscoll</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../CV.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research.html"> 
<span class="menu-text">Publications and Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching.html"> 
<span class="menu-text">Teaching Materials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">News and Musings</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://twitter.com/conorodriscollx" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter-x"></i></a>
    <a href="https://www.linkedin.com/in/conor-o-driscoll-a0624a234/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://www.rug.nl/staff/c.odriscoll/?lang=en" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-building"></i></a>
    <a href="https://conor-o-driscoll.github.io/website/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#thinking-statistically-a-way-of-seeing-the-world" id="toc-thinking-statistically-a-way-of-seeing-the-world" class="nav-link active" data-scroll-target="#thinking-statistically-a-way-of-seeing-the-world">Thinking Statistically: A Way of Seeing the World</a></li>
  <li><a href="#decision-making-and-asking-better-questions" id="toc-decision-making-and-asking-better-questions" class="nav-link" data-scroll-target="#decision-making-and-asking-better-questions">Decision Making and Asking Better Questions</a></li>
  <li><a href="#statistics-is-human-made" id="toc-statistics-is-human-made" class="nav-link" data-scroll-target="#statistics-is-human-made">Statistics is human-made</a></li>
  <li><a href="#shooting-the-messenger" id="toc-shooting-the-messenger" class="nav-link" data-scroll-target="#shooting-the-messenger">Shooting the messenger</a></li>
  <li><a href="#wrapping-up" id="toc-wrapping-up" class="nav-link" data-scroll-target="#wrapping-up">Wrapping Up</a></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">Bibliography</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Thinking Statistically: A Primer</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Applied Statistics (Beginners)</div>
    <div class="quarto-category">Applied Statistics (Intermediate)</div>
    <div class="quarto-category">Applied Statistics (Advanced)</div>
  </div>
  </div>

<div>
  <div class="description">
    Thinking statistically doesn’t start with numbers or formulas, it starts with noticing.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Conor O’Driscoll </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 7, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="thinking-statistically-a-way-of-seeing-the-world" class="level1">
<h1>Thinking Statistically: A Way of Seeing the World</h1>
<p>Most of us meet statistics in passing — a poll on the evening news, a headline about a medical breakthrough, a sports commentator flashing charts on the screen. We may not think much of it, but statistics quietly runs through almost every part of modern life: from predicting the weather, to setting housing policy, to planning bus timetables. Behind every one of those applications is the same motivation: to make better sense of the world around us, thus helping us to make better decisions in the face of uncertainty.</p>
<p>For social and spatial scientists, this work happens in two worlds at once. The visible world (e.g., house prices, commuting patterns, school applicatins) helps us to come up with our own ideas and theories about how the world works. Meanwhile, the world we infer (e.g., migration patterns, economic opportunity, discrimination, and efficiency) is the world we inhabit when we try to link our theories and ideas to reality.</p>
<p>Statistics sits at the intersection of these two worlds. Without statistics, our ideas and theories about the world around us are little more than speculations. With statistics, we can compare our perceptions of the world to a more grounded view of reality, allowing us to test and validate our own understanding. A poor match between our ideas and reality forces us to think again and reformulate our theories based on what we observe through statistics, while a good match might signal that we have a good intuitive understanding of what is going on.</p>
<p>Implicit in this is the notion that, in order to be meaningful, our ideas and theories of the world around us must yield plausible predictions; predictions which we can evaluate and assess using statistics. If our theories and ideas to do not tell us what we should expect to observe, or if the predictions are so general that any data will conform with our theories (e.g., astrology), then evidently our theories and ideas are no good.</p>
</section>
<section id="decision-making-and-asking-better-questions" class="level1">
<h1>Decision Making and Asking Better Questions</h1>
<p>With this in mind, statistics is also a valuable tool we can use to steer our way through a complex world and make decisions about the “best” actions to take. We can use statistical methods to extract information from data we have collected to describe how the world is behaving and infer how we might wish to respond. Therefore, statistics plays a fundamental role in tying observations about the world around us to our ideas and understanding of that world, providing a disciplined way to make sense of a messy reality.</p>
<p>The kind of thinking involved in Statistics may seem quite different from what you are used to. But once we strip away the jargon and examine what it is we are really doing, you will quickly realize that the kind of thinking involved in statistics is not entirely new to you. In fact, many of your day-to-day assumptions and decisions already depend on statistical thinking.</p>
<p>When we summarize our past experience in a rough-and-ready way, or generalize from previous experiences, and use this information to make predictions about what we expect, we are subconsciously making broader sense of our lived experiences. That is why thinking statistically is not about chasing certainty, it is about navigating ambiguity with discipline. We use data to challenge our assumptions, to explore patterns we might not otherwise see, and to resist being misled by what seems obvious.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose I tell you that I have two friends: one is around six feet tall and the other is five feet tall. What would be your best guess as to each one’s sex?</p>
<p>Of course, you have not seen all men, or all women, but experience probably tells you that by-and-large, men tend to be taller than women.</p>
<p>Therefore, I expect that you feel fairly confident in assuming that my smaller friend is female, while my taller friend is male. In other words, in the <em>absence of any other information</em>, you probably think it is more likely that a tall adult is male and a small adult is female.</p>
</div>
</div>
<p>We do this all the time. When you say: “On average, I cycle 50km per week”, or “We can expect a lot of rain at this time of year”, or “It is more likely that you will do well in your exams if you begin studying early” you are making statistical statements even though you have performed no calculations. Indeed, each of these examples is showing off one particular type of statistical thinking; answer the questions below to figure out which.</p>
<div class="webex-check webex-box">
<p>What type of statistical thinking best corresponds to each of the following scenarios:</p>
<ol type="1">
<li><p>On average, I cycle 50km per week. <select class="webex-select"><option value="blank"></option><option value="">Generalizing</option><option value="">Predicting</option><option value="answer">Summarizing</option><option value="">Assessing</option></select></p></li>
<li><p>We can expect a lot of rain at this time of year. <select class="webex-select"><option value="blank"></option><option value="answer">Generalizing</option><option value="">Predicting</option><option value="">Assessing</option><option value="">Summarizing</option></select></p></li>
<li><p>It is more likely that you will do well in your exams if you begin studying early. <select class="webex-select"><option value="blank"></option><option value="">Assessing</option><option value="answer">Predicting</option><option value="">Generalizing</option><option value="">Summarizing</option></select></p></li>
</ol>
</div>
</section>
<section id="statistics-is-human-made" class="level1">
<h1>Statistics is human-made</h1>
<p>Because statistics involve numbers, people often assume they are hard facts handed down by nature. But numbers don’t just fall from the sky — people choose what to count, how to count it, and how to present it. That means statistics are not just facts, they are interpretations.</p>
<p>To think statistically is to think critically. It’s to ask questions like: Is that plausible? Compared to what? How do they know? The more you practice, the more these habits become second nature — a kind of internal, healthy skepticism paired with external curiosity.</p>
<p>This ability to think critically is become more important everyday. We live in an age where information is instant but trust is fragile. It is becoming increasingly difficult to tell what is true and what is not. Even though misinformation has been a problem that has existed since ancient Greece, the unique problem we face today is that it has proliferated and is closely intertwined on the internet with real information, making it sometimes difficult to identify.</p>
<p>Some of you who might respond by saying “it is not my job to evaluate statistics critically”. I say that it may not be your job, but it is your responsibility to own your opinions. Taking ownership of these opinions requires you to think critically about the words and numbers you encounter, and scrutinize/examine them as best you can.</p>
<p>Test your ability to critically evaluate statistical statements using the following examples, where <code>TRUE</code> = Plausible and <code>False</code> = Not Plausible:</p>
<div class="webex-check webex-box">
<ol start="4" type="1">
<li><p>A crystal wine glass fell off a table onto a thick carpet without breaking. <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
<li><p>A crystal wine glass fell off the roof of a forty-storey skyscraper onto the footpath without breaking. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>The best salesperson in Company X makes 1,000 sales every day. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>The cost of a telephone has decreased by 12,000 percent since the formation of the Communication Satellite Corportation. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
</ol>
</div>
<p>Problems 4 and 5 were hopefully easy for most of you.</p>
<p>Problem 6 is a bit trickier because it is not immediately obvious where to begin. But below I take a stab at it. Not to say that this is the <em>one-and-only</em> way to answer this question, but it is one illustration of how you can apply statistical thinking to assess the plausibility of a statistical statement.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Assuming that it takes: i) five seconds to dial a phone number, ii) another five seconds for the phone to ring, iii) 10 seconds to deliver your sales pitch, and iv) 40 seconds to collect the buyers bank details and address. That adds up to one call per minute. Finally, lets assume that every phone call ends in a sale. Even under these highly optimistic conditions, you come out sixty sales per hour, and 480 sales in an eight hour work day with no breaks. Need I say any more?</p>
</div>
</div>
<p>Claim 7 is difficult to verify if you do not spot the immediate contradiction. If a cost decreases by 100 percent it means that, irrespective of the starting price, the price is now zero. If a cost decreases by 200 percent, it means that someone is paying you the same amount of money that you used to pay them for their product. Thus, while a decrease in price of 100 percent is quite rare, a decrease of 12000 percent seems wildly unlikely. You might think this is obvious, but tell that to the editors of <em>Science</em> (a premier scientific journal) who <a href="https://www.science.org/doi/abs/10.1126/science.223.4636.553">published</a> such a statement.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Claim 7 introduces another common error when interpreting statistics and that involves making sense of percentages.</p>
<p>Percentages seem so simple and incorruptable, but they are often confusing. For example, if your salary drops by 50% tomorrow, you will not “break-even” by increasing your new salary by 50 percent because the baselines have changed.</p>
<p>If you were recieving €1,000 each week and that suddenly dropped to €500 (a 50 percent reduction), a 50 percent increase on that pay only brings you to €750.</p>
<p>Similarly, if interest rates rise from 3 to 4 percent, that constitutes an increase of one percentage point, or an increase of 33 percent. Meanwhile, if interest rates drop from 4 to 3 percent, that constitutes a decrease of one percentage point, but a decrease of 25 percent. Has your head exploded yet?</p>
</div>
</div>
<p>Working with percentages and probabilities can be hard even for those of us with advanced degrees in such subjects. So even though we all practice statistical thinking quite regularly, that does not mean we are naturally very good at it.</p>
<p>In one somewhat famous case, the state of New Jersey (U.S.A) adopted legislation that denied additional benefits to mothers who have children while already on welfare. Some legislators believed that women were having babies in New Jersey simply to increase the amount on their welfare checks. Within two months, legislators were declaring that the “family cap” law was a success because <em>births</em> had already fallen by 16 percent, as reported in the <a href="https://www.nytimes.com/1995/09/21/us/welfare-in-transition-new-jersey-the-gop-s-family-cap-has-a-democratic-history.html"><em>New York Times</em></a>. Now, maybe things are different in New Jersey, but I believe that it takes nine months for a pregnancy to come to term, so how can this effect possibly be attributed to the policy?</p>
<p>But state legislators are not the only people to make basic blunders in statistical thinking. Experts do it all the time, something demonstrated in the highly impressive <em>Thinking, Fast and Slow</em> by Daniel Kahneman (Nobel Laureate in Economics, 2002).</p>
<p>Other claims, like <em>More people have cell phones than toilets</em> (reported by <a href="https://newsfeed.time.com/2013/03/25/more-people-have-cell-phones-than-toilets-u-n-study-shows/"><em>Time</em> Magazine</a> in 2013) are a bit trickier because the answer depends on a host of factors, like who/how we count and what we compare. One potentially reasonable place to start in this example might be the observation that many people in the developing world do not have indoor plumbing, whereas many people in the developed world may have more than one cell phone (at least over their lifetime). From this angle, the claim seems plausible. This is not to say that we should accept it, but rather that we cannot reject it out-of-hand as being ridiculous. In this case, what matters isn’t whether you instantly know the answer, but whether you know how to start thinking about solving the problem.</p>
</section>
<section id="shooting-the-messenger" class="level1">
<h1>Shooting the messenger</h1>
<p>Importantly, however, not all misuses of statistics are accidents. In his book <em>A Field Guide To Lies and Statistics</em>, Daniel Levitin (a neuroscientist) provides a number of examples where statistics are mis-used, misinterpreted, or misapplied honestly as well as dishonestly.</p>
<p>This hits upon a broader point that sometimes you cannot always determine whether a statistic or claim is reliable. Sure, the people who generate and report on such statistics should do this for you, but they often do not. Sometimes, this is deliberate (i.e., politically-motivated) but other times the people generating/reporting on these statistics do not understand them all that well.</p>
<p>That is how runaway statistics take hold, potentially poisoning public opinion and discourse on a particular topic, further emphasizing the importance of being able to think statistically.</p>
<p>Take the widely reported statistic (from some years ago) that, in the U.S. 150,000 girls and young women die of annorexia each year. According to the U.S. Centers for Disease Control, the annual number of deaths from <em>all causes</em> for girls and women between the ages of fifteen and twenty-four (a reasonable definition for “girls and young women”?) is around 8,500. If you become more conservative in your definitions and incorporate women aged twnety-five to fourty-four, you still only get 55,000. It should be obvious that annorexia deaths in one year cannot be three times the number of all reported deaths, but it clearly was not.</p>
<p>In these cases, it is often very easy to blame to blame the statistician or the statistics themselves, but they are usually not the ones with concealed motivations, political or otherwise.</p>
<p>Moreover, when a statistic is used to measure performance, people often start “playing to the metric” — sometimes in ways that make the number look better without actually improving the thing it’s meant to measure. (Economists call this Goodhart’s Law). National accounting measures like Gross Domestic Product (GDP) are becoming increasingly good examples of i) statistical measures that are gamed for concealed motives and ii) measures which do not do what they say on the tin - which brings us to a whole new level of discussion about picking and understanding your choice of measurement…the subject of another blog.</p>
</section>
<section id="wrapping-up" class="level1">
<h1>Wrapping Up</h1>
<p>Statistics is not just about techniques. It is about developing better instincts and organising your curiosity. It helps you ask clearer questions and give more careful answers.</p>
<p>It will not turn you into a calculator. But it will help you see more clearly. To doubt usefully, not cynically. To ask things like: Where did that number come from? What is the comparison? What is the alternative?</p>
<p>If you have ever had a hunch something was not quite right, or spotted a pattern in your surroundings, congratulations. You have already started thinking statistically.</p>
</section>
<section id="bibliography" class="level1">
<h1>Bibliography</h1>
<ol type="1">
<li>Statistics Without Tears: An Introduction For Non-Mathematicians, by Derek Rowntree<br></li>
<li>A Field Guide To Lies and Statistics: A Neuroscientist on How to Make Sense of A Complex World, by Daniel J. Levitin<br></li>
<li>Elementary Statistics For Geographers by James Burt, Gerald Barber, and David Rigby<br></li>
</ol>


</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025, Conor O’Driscoll</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Built with <img src="../img/r-logo.svg" style="vertical-align: middle; filter: grayscale(100%);" height="20"> and <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>