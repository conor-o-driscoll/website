<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Conor O’Driscoll">
<meta name="dcterms.date" content="2025-08-21">
<meta name="description" content="Discussing the difference between statistical populations and samples">

<title>Populations and Samples – Conor O’Driscoll</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-E5KK0XXE44"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-E5KK0XXE44', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../include/webex.css">
<meta property="og:title" content="Populations and Samples – Conor O’Driscoll">
<meta property="og:description" content="Discussing the difference between statistical populations and samples">
<meta property="og:image" content="/img/pop_samp.png">
<meta property="og:site_name" content="Conor O'Driscoll">
<meta name="twitter:title" content="Populations and Samples – Conor O’Driscoll">
<meta name="twitter:description" content="Discussing the difference between statistical populations and samples">
<meta name="twitter:image" content="/img/pop_samp.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Conor O’Driscoll</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../CV.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research.html"> 
<span class="menu-text">Publications and Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching.html"> 
<span class="menu-text">Teaching Materials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">News and Musings</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://twitter.com/conorodriscollx" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter-x"></i></a>
    <a href="https://www.linkedin.com/in/conor-o-driscoll-a0624a234/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://www.rug.nl/staff/c.odriscoll/?lang=en" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-building"></i></a>
    <a href="https://conor-o-driscoll.github.io/website/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#statistical-populations-the-ideal-starting-point" id="toc-statistical-populations-the-ideal-starting-point" class="nav-link active" data-scroll-target="#statistical-populations-the-ideal-starting-point">Statistical Populations: The Ideal Starting Point</a></li>
  <li><a href="#sampling-building-a-bridge-to-the-population" id="toc-sampling-building-a-bridge-to-the-population" class="nav-link" data-scroll-target="#sampling-building-a-bridge-to-the-population">Sampling: Building a Bridge to the Population</a></li>
  <li><a href="#bias-and-generalisation" id="toc-bias-and-generalisation" class="nav-link" data-scroll-target="#bias-and-generalisation">Bias and Generalisation</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Populations and Samples</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Applied Statistics (Beginners)</div>
  </div>
  </div>

<div>
  <div class="description">
    Discussing the difference between statistical populations and samples
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Conor O’Driscoll </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 21, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>When we use statistics, we are always trying to say something about the world. But the world is big, messy, and full of variation. So the first step in any statistical study is to decide what part of the world we are trying to understand. This is where the idea of a population comes in — and why, in practice, we usually rely on samples instead.</p>
<section id="statistical-populations-the-ideal-starting-point" class="level1">
<h1>Statistical Populations: The Ideal Starting Point</h1>
<p>In statistics, a population is the complete set of individuals, objects, or events that share a common characteristic of interest - a characteristic that we wish to study.</p>
<p>If we are studying election outcomes, the population might be all eligible voters in a country. <br></p>
<p>If we want to know the average height of trees in a national park, the population is every tree in that park. <br></p>
<p>If we are testing the reliability of a product, like lightbulbs, the population could be all lightbulbs manufactured by a company. <br></p>
<p>In each case, the population is the entire universe of cases we want to understand. This makes them conceptually appealing because they capture everything. If we could measure an entire population, we would have no uncertainty — we would know the true average tree height, the exact proportion of voters supporting each candidate, or the precise distribution of lightbulb lifespans. This is the logic behind a census, where every single member of a population is measured. Censuses are the statistical ideal, because they eliminate the guesswork.</p>
<p>The most well-known example of a census is, of course, a national population census, which attempts to count every single person in a country. These efforts are monumental undertakings, requiring years of planning, vast budgets, and enormous data-collection infrastructures - highlighting some of the difficulties associated with reaching this ideal.</p>
<p>Unfortunately, studying populations directly is rarely feasible. National population censuses are the exception, but even they are massive undertakings requiring years of preparation, vast budgets, and armies of workers. Outside of such special cases, researchers usually cannot access an entire population. There are several reasons for this:</p>
<ol type="1">
<li><p>Cost and time: Measuring every single unit is almost always too expensive and too slow.</p></li>
<li><p>Logistics: Some populations are too large or widely dispersed. Measuring every tree in the Amazon rainforest is simply impossible.</p></li>
<li><p>Destructive measurement: Sometimes, testing requires destroying the unit. You cannot measure the lifespan of every lightbulb if each test means running it until it burns out.</p></li>
<li><p>Changing populations: Populations are often dynamic. People are born, products roll off production lines, ecosystems evolve. By the time you measure everyone, the population itself has already changed.</p></li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is also worth noting that defining the population itself is not always straightforward. Sometimes it is clear and obvious (e.g., all registered voters in an election). Other times, it requires careful thought. What counts as the relevant population when testing a new medicine? Just the trial participants, or everyone who might one day take the drug? Defining the population is often a conceptual decision, not just a logistical one. Similarly:</p>
<p>A survey of 2,000 voters is a sample from the population of all voters. If the sample includes people of different ages, regions, and political leanings in roughly the right proportions, it can give us reliable insights into voting intentions.</p>
<p>Measuring 50 trees from different areas of a park is a sample from the population of all trees. If the trees are chosen carefully from across the park, the sample average height will be a good approximation of the population average.</p>
<p>Testing 100 lightbulbs is a sample from the population of all bulbs made by a manufacturer. If those bulbs are chosen randomly, their measured lifespan can be generalized to the entire production line.</p>
</div>
</div>
<p>This is why most statistical studies must settle for something more practical: sampling.</p>
</section>
<section id="sampling-building-a-bridge-to-the-population" class="level1">
<h1>Sampling: Building a Bridge to the Population</h1>
<p>Because populations are so hard to study directly, we work with samples. A sample is a subset of the population that we actually collect data from. It is the part of the population that we observe directly, with the goal of using it to make claims about the whole.</p>
<p>But a sample is not just “a smaller group.” The power of a sample comes from the fact that each member of it shares some common attribute that defines the population we are interested in. Every tree in our sample is still a tree in the park. Every voter surveyed is still an eligible voter. Every lightbulb tested still came from the manufacturer’s production line. This shared attribute makes it meaningful to ask: how do characteristics (like height, opinion, or lifespan) vary across different members?</p>
<p>At the same time, no two members are identical. Each tree has a slightly different height. Each voter has their own political leanings. Each bulb lasts a different number of hours. Some of these differences matter more than others — and the whole point of sampling is to understand and measure these variations in a way that allows us to make statements about the broader population.</p>
<p>Considering this, the value of a sample lies in its representativeness. Sampling allows us to use a manageable amount of data to make inferences about the larger population. The underlying idea is that, if the sample is chosen carefully, the information it provides will reflect the characteristics of the whole. That is, a good sample reflects the key characteristics of the population, so that any patterns we observe in the sample mirror those in the larger group.</p>
<p>However, not all samples are equally useful. A good sample has two key qualities:</p>
<ol type="1">
<li><p><em>Representativeness:</em> The sample should reflect the important characteristics of the population. If young people and older people have different voting patterns, a representative sample must include both groups in appropriate proportions.</p></li>
<li><p><em>Sufficient size:</em> Larger samples tend to provide more precise estimates, because they reduce the role of chance. That said, size alone is not enough — a large but biased sample can still lead to misleading conclusions.</p></li>
</ol>
<p>Imagine stirring a pot of soup. You don’t need to drink the entire pot to know how it tastes — you just need a spoonful. But the spoonful must be taken after stirring, so that it is representative. If you scoop only from the top, you might end up with just broth, missing the vegetables and seasoning below. Sampling in statistics works the same way: the sampling method matters as much as the size.</p>
<p>Sampling method is about how you select the units, and we will discuss this in more detail in another post. Whereas sample size affects how much variability we expect by chance. With small samples, results can swing widely just due to randomness. With larger samples, estimates stabilize and become more reliable. That said, bigger is not always better. A small, well-designed random sample can be more reliable than a large, biased sample. For example, a carefully randomized survey of 1,500 people can be more accurate than a self-selected online poll of 100,000.</p>
<p>The ideal is a sample that is both representative and large enough to provide stable estimates.</p>
<p>Ensuring that a sample is truly representative of a wider population requires a surprising amount of work. Bias can creep in at almost any stage of the process: from how the population is defined, to how the sample is selected, to who actually responds. For instance, even if you start with a random sample, you may run into nonresponse bias if certain groups are less likely to answer your survey than others, making response rates particularly important for survey data. Similarly, coverage bias can occur if your sampling frame leaves people out altogether, such as surveying only landline users when many younger people rely exclusively on mobile phones. Even small design choices — like where data is collected, when surveys are distributed, or how questions are worded — can systematically shape the kinds of people who participate and the answers they provide.</p>
<div class="webex-check webex-box">
<p>Try your hand at some of these questions to see whether you truly get the logic of sampling. For each scenario, identify whether the chosen sample is <em>truly</em> representative of the wider population.</p>
<p>That is, given the information provided, select <code>TRUE</code> in cases where you believe the samples are representative and that there is little-to-no risk of systematic bias entering the estimates, and <code>FALSE</code> when these conditions do not hold.</p>
<ol type="1">
<li><p>A study wants to understand the travel behaviours of university students across the Netherlands. Researchers collect data only from students living and studying in Groningen. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>A company wants to understand job satisfaction across its entire workforce. Researchers select 300 employees, making sure to include exactly 150 men and 150 women. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>A pre-election survey randomly selects 2,000 names from the national register of voters at random and asks about voting intentions. All 2,000 individuals respond truthfully. <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
<li><p>A study wants to understand attitudes toward climate change in the United States. Individuals are randomly selected from San Francisco to complete a survey on the topic. The survey had a 100% response rate. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>City planners in Utrecht want to estimate average household size in the city. They randomly select several neighborhoods across the city and survey all households in those areas. The surveys have a 100% response rate. <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
</ol>
</div>
<p>Below are some more exercises to really drive home the point that representativeness is quite hard to achieve in practice and requires a lot of work. Clearly, some of the examples (i.e., the distinguishing factors between 10 and 11) are artificial and unrealistic in many ways. But they do serve as a useful thought exercise for thinking about bias, the topic of our next section.</p>
<div class="webex-check webex-box">
<p>Try your hand at some of these questions to see whether you truly get the logic of sampling. For each scenario, identify whether the chosen sample is <em>truly</em> representative of the wider population.</p>
<p>That is, given the information provided, select <code>TRUE</code> in cases where you believe the samples are representative and that there is little-to-no risk of systematic bias entering the estimates, and <code>FALSE</code> when these conditions do not hold.</p>
<ol start="6" type="1">
<li><p>Researchers in the RUG want to explore citizen satisfaction with amenities in the City of Groningen. To achieve this, they conduct street interviews at distinct spots in the city on one Saturday afternoon in October. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>Researchers in the RUG want to explore citizen satisfaction with amenities in the City of Groningen. To achieve this, they conduct street interviews at distinct spots in city on twelve random Saturday afternoons throughout the year, ensuring to capture responses in every month. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>Researchers in the RUG want to explore citizen satisfaction with amenities in the City of Groningen. To achieve this, they conduct street interviews across the city on twelve random Saturday afternoons throughout the year, ensuring to capture responses in every month. Prior to each Saturday, the interviewees randomise the locations they will visit. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>Researchers in the RUG want to explore citizen satisfaction with amenities in the City of Groningen. To achieve this, they conduct street interviews across the city on twelve random Saturday afternoons throughout the year, ensuring to capture responses in every month. Prior to each Saturday, the interviewees randomise the locations they will visit. Every 5th person to walk by the interviewer is asked to interview. Not everyone that is asked agrees. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>Researchers in the RUG want to explore citizen satisfaction with amenities in the City of Groningen. To achieve this, they conduct street interviews across the city on twelve random Saturday afternoons throughout the year, ensuring to capture responses in every month. Prior to each Saturday, the interviewees randomise the locations they will visit. Every 5th person to walk by the interviewer is asked to interview. Everyone that is asked agrees, but you are not convinced that everyone answered truthfully. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>Researchers in the RUG want to explore citizen satisfaction with amenities in the City of Groningen. To achieve this, they conduct street interviews across the city on twelve random Saturday afternoons throughout the year, ensuring to capture responses in every month. Prior to each Saturday, the interviewees randomise the locations they will visit. Every 5th person to walk by the interviewer is asked to interview. Everyone that is asked agrees, you know that everyone answered truthfully. <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
</ol>
</div>
</section>
<section id="bias-and-generalisation" class="level1">
<h1>Bias and Generalisation</h1>
<p>A major threat to useful sampling is bias. Bias occurs when the sample systematically differs from the population in ways that matter for the outcome of interest.</p>
<p>A representative sample captures the diversity of the population, while a biased sample systematically excludes some groups or overrepresents others. If we conduct an online poll about political views, but only younger people respond, the sample may not represent the full voting population. If we only measure trees close to the park entrance, we might miss variation in tree heights deeper inside the forest. If we test only lightbulbs from the beginning of a production run, our estimate of lifespan may not reflect bulbs produced later. Bias can creep in through poor sampling design or low response rates. Recognizing and minimizing these risks is a central concern in applied statistics.</p>
<p>For example:</p>
<p>If a voter survey only includes people with internet access, it may miss older or rural populations. <br></p>
<p>If tree measurements are taken only near trails, the sample may not reflect conditions deeper in the forest. <br></p>
<p>If product tests only use the first items produced in a manufacturing run, they may not capture variability in later batches. <br></p>
<p>Bias undermines the goal of sampling: <em>to generalize to the population</em>.</p>
<p>One of the strongest tools to mitigate bias is randomization. Randomly selecting units ensures that, on average, the sample will resemble the population. Randomization does not eliminate all differences — chance variation remains — but it removes systematic distortions. This is why randomization is central not only to survey design but also to experiments, where random assignment of participants helps balance out hidden differences between groups. The guiding principle is always the same: <em>the purpose of sampling is to learn about the population, not just about the sample itself</em>.</p>
<p>Try your hand at some of the following questions. In situations where you think the results of these studies are generalised appropriately, click <code>TRUE</code>. If the generalisations are not appropriate, click <code>FALSE</code>.</p>
<div class="webex-check webex-box">
<ol start="12" type="1">
<li><p>A survey of 100 residents randomly distributed across the Groningen municipality is used to conclude that all municipalities in the Netherlands should adopt the same traffic-calming measures. Note: this sample is representative of the population of Groningen province. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>A survey of 500 students at University College Cork is used to conclude that all university students in the Ireland prefer online lectures to in-person lectures. Note: every faculty and department in University College Cork is represented and the sample as a whole is representative of the student body in University College Cork. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>A representative sample of 500 students studying in 5 of the 8 universities in Ireland is used to conclude that all university students in the Ireland prefer online lectures to in-person lectures. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>A nationally representative survey of 2,500 adults, randomly sampled across regions, ages, ethnicities, and genders, is used to conclude that approximately 60% of adults in the country report having visited a museum in the past year. <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
<li><p>A survey of 1,500 households living in urban areas is used to conclude that rural areas require greater investment in public transport infrastructure. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
</ol>
</div>
<p>When drawing conclusions from a sample, it is important to remember that not all samples support broad generalizations. Even if a sample seems well-constructed, its scope, size, or coverage may limit the extent to which findings can be applied to the wider population. Overgeneralizing from small, localized, or biased samples can lead to misleading conclusions, particularly in contexts like regional policy, where local conditions and preferences vary widely. Always consider whether the sample truly reflects the diversity and characteristics of the population before making sweeping statements. When in doubt, it is safer to frame findings as observations about the sample itself rather than the population as a whole.</p>
<p>The ultimate reason we sample is to generalize. By carefully selecting and analyzing a subset of the population, we aim to draw conclusions about the whole. If a sample is representative and unbiased, the patterns we observe — average values, relationships between variables, differences between groups — can be taken as evidence of what exists in the population.</p>
<p>This is the engine of statistical inference: starting with the limited, and carefully reasoning our way to the broader.</p>


</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025, Conor O’Driscoll</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Built with <img src="../img/r-logo.svg" style="vertical-align: middle; filter: grayscale(100%);" height="20"> and <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>